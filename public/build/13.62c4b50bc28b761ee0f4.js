(this.webpackJsonp=this.webpackJsonp||[]).push([[13],{1875:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=y(n(15)),l=y(n(44)),i=y(n(1)),c=y(n(4)),r=y(n(7)),o=y(n(3)),u=y(n(5)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),d=n(106),f=y(n(1417)),p=y(n(47)),m=y(n(180)),v=y(n(279)),h=y(n(415));function y(e){return e&&e.__esModule?e:{default:e}}var E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof l.default){var i=0;for(a=(0,l.default)(e);i<a.length;i++)t.indexOf(a[i])<0&&(n[a[i]]=e[a[i]])}return n},g=function(e){function t(e){(0,c.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.onConfirm=function(e){n.setVisible(!1);var t=n.props.onConfirm;t&&t.call(n,e)},n.onCancel=function(e){n.setVisible(!1);var t=n.props.onCancel;t&&t.call(n,e)},n.onVisibleChange=function(e){n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e){var t=n.props,a=t.prefixCls,l=t.title,i=t.cancelText,c=t.okText,r=t.okType,o=t.icon;return s.createElement("div",null,s.createElement("div",{className:a+"-inner-content"},s.createElement("div",{className:a+"-message"},o,s.createElement("div",{className:a+"-message-title"},l)),s.createElement("div",{className:a+"-buttons"},s.createElement(m.default,{onClick:n.onCancel,size:"small"},i||e.cancelText),s.createElement(m.default,{onClick:n.onConfirm,type:r,size:"small"},c||e.okText))))},n.state={visible:e.visible},n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e){var t=this.props;"visible"in t||this.setState({visible:e});var n=t.onVisibleChange;n&&n(e)}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.placement,a=E(e,["prefixCls","placement"]),l=s.createElement(v.default,{componentName:"Popconfirm",defaultLocale:h.default.Popconfirm},this.renderOverlay);return s.createElement(f.default,(0,i.default)({},a,{prefixCls:t,placement:n,onVisibleChange:this.onVisibleChange,visible:this.state.visible,overlay:l,ref:this.saveTooltip}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}]),t}(s.Component);g.defaultProps={prefixCls:"ant-popover",transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:s.createElement(p.default,{type:"exclamation-circle"})},(0,d.polyfill)(g),t.default=g,e.exports=t.default},1876:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(745)),l=s(n(1875)),i=s(n(47)),c=s(n(179)),r=s(n(0)),o=s(n(109)),u=s(n(28));function s(e){return e&&e.__esModule?e:{default:e}}var d=c.default.Meta,f=function(e){var t=e.connection,n=e.handleServiceInAction;return r.default.createElement(c.default,{actions:[r.default.createElement(i.default,{type:"sync",title:"Connect",onClick:n(t,"connect")}),r.default.createElement(l.default,{title:"Are you sure delete this connection?",onConfirm:n(t,"delete"),okText:"Yes",cancelText:"No"},r.default.createElement(i.default,{type:"delete",title:"delete"}))]},r.default.createElement(d,{avatar:r.default.createElement(a.default,{src:"../images/clouds/"+t.service_type+".svg"}),title:r.default.createElement("div",null,r.default.createElement("div",{style:{color:"#9b9b9b",marginBottom:".5rem",fontSize:".8rem",fontWeight:"bold"}},(0,o.default)(t.service_type),r.default.createElement("span",{style:{display:"inline-block",marginLeft:".5rem",fontSize:"1rem"}},t.status?r.default.createElement(i.default,{type:"check-circle",title:"connected",style:{color:"green"}}):r.default.createElement(i.default,{type:"close-circle",title:"Not Connected",style:{color:"red"}}))),r.default.createElement("div",null," ",(0,o.default)(t.profile.name)," ")),description:r.default.createElement("small",null," Connected as ",t.profile.email||t.profile.name," ")}))};f.propTypes={connection:u.default.object.isRequired,handleServiceInAction:u.default.func.isRequired},t.default=f,e.exports=t.default},1877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(744)),l=c(n(0)),i=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}var r=function(e){var t=e.handleMenuClick,n=e.services;return l.default.createElement(a.default,{onClick:t},n.map(function(e){return l.default.createElement(a.default.Item,{key:e.id},l.default.createElement("img",{src:"../images/clouds/"+e.id+".svg",height:"16px",width:"16px",alt:e.id,title:e.id}),l.default.createElement("span",{style:{paddingLeft:"10px"}},e.name))}))};r.displayName="ServicesList",r.propTypes={services:i.default.array.isRequired,handleMenuClick:i.default.func.isRequired},t.default=r,e.exports=t.default},1904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=O(n(179)),l=O(n(229)),i=O(n(149)),c=O(n(128)),r=O(n(440)),o=O(n(180)),u=O(n(47)),s=O(n(280)),d=O(n(15)),f=O(n(4)),p=O(n(7)),m=O(n(3)),v=O(n(5)),h=O(n(1416)),y=O(n(0)),E=O(n(28)),g=O(n(108)),b=O(n(109)),C=n(113),k=n(97),_=n(53),x=O(n(1877)),S=n(148),N=n(283),A=n(127),M=O(n(1876));function O(e){return e&&e.__esModule?e:{default:e}}var P=h.default.TabPane,T=function(e){function t(e){(0,f.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.state={loading:!1},n.active=[],n.inactive=[],(0,g.default)(n),n}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(){this.filterByStatus()}},{key:"handleMenuClick",value:function(e){(0,S.popupOpener)(e.key,"../authenticate?service="+e.key)}},{key:"removeConnection",value:function(e){var t=this;this.enableLoading(),(0,A.postRemoveConnection)(e._id).then(function(){t.props.actions.removeConnection(e._id),s.default.success("Connection has been removed successfully.")}).catch(function(){s.default.error("Unable to remove connection.")}).finally(function(){t.disableLoading()})}},{key:"enableLoading",value:function(){this.setState({loading:!0})}},{key:"disableLoading",value:function(){this.setState({loading:!1})}},{key:"handleServiceInAction",value:function(e,t){var n=this;return function(){return"delete"===t?n.removeConnection(e):("connect"===t&&(n.enableLoading(),n.props.actions.pingConnection(e._id).then(function(){s.default.success("Successfully connected to "+(0,b.default)(e.service_type)+" as "+e.profile.name)}).catch(function(){(0,S.popupOpener)(e.service_type,"../authenticate?service="+e.service_type)}).finally(function(){n.disableLoading()})),!1)}}},{key:"filterByStatus",value:function(){var e=this;this.active=[],this.inactive=[],this.props.app.connections.forEach(function(t){t.status?e.active.push(t):e.inactive.push(t)})}},{key:"render",value:function(){var e=this;this.filterByStatus();var t=this.active,n=this.inactive;return y.default.createElement(a.default,null,y.default.createElement(l.default,{spinning:this.state.loading},y.default.createElement(c.default,{type:"flex",justify:"space-between",align:"middle"},y.default.createElement("h2",{style:{display:"inline-block"}},"Connections"),y.default.createElement(r.default,{overlay:y.default.createElement(x.default,{services:this.props.app.services,handleMenuClick:this.handleMenuClick})},y.default.createElement(o.default,{type:"primary"},y.default.createElement(u.default,{type:"plus",style:{marginRight:".5rem"}}),"Add new connection",y.default.createElement(u.default,{type:"down",style:{marginLeft:".5rem"}})))),y.default.createElement("br",null),y.default.createElement(c.default,{gutter:16},!this.props.app.connections.length&&y.default.createElement(i.default,{className:"gutter-row",span:6},"You have no connections."),this.props.app.connections.length&&y.default.createElement(h.default,{defaultActiveKey:"1"},y.default.createElement(P,{tab:y.default.createElement("span",null,"All (",this.props.app.connections.length,")"),key:"1"},y.default.createElement(c.default,{gutter:16},this.props.app.connections.map(function(t){return y.default.createElement(i.default,{className:"gutter-row",span:6,key:t._id},y.default.createElement("div",{className:"gutter-box"},y.default.createElement(M.default,{connection:t,handleServiceInAction:e.handleServiceInAction})))}))),y.default.createElement(P,{tab:y.default.createElement("span",null,y.default.createElement(u.default,{type:"check-circle",title:"connected"}),"Active (",t.length,")"),key:"2"},y.default.createElement(c.default,{gutter:16},t.map(function(t){return y.default.createElement(i.default,{className:"gutter-row",span:6,key:t._id},y.default.createElement("div",{className:"gutter-box"},y.default.createElement(M.default,{connection:t,handleServiceInAction:e.handleServiceInAction})))}))),y.default.createElement(P,{tab:y.default.createElement("span",null,y.default.createElement(u.default,{type:"close-circle",title:"Not Connected"}),"In Active (",n.length,")"),key:"3"},y.default.createElement(c.default,{gutter:16},n.map(function(t){return y.default.createElement(i.default,{className:"gutter-row",span:6,key:t._id},y.default.createElement("div",{className:"gutter-box"},y.default.createElement(M.default,{connection:t,handleServiceInAction:e.handleServiceInAction})))})))))))}}]),t}(y.default.Component);T.propTypes={app:E.default.object.isRequired,actions:E.default.object.isRequired};t.default=(0,_.withRouter)((0,C.connect)(function(e){return{app:e.app}},function(e){return{actions:(0,k.bindActionCreators)({fetchConnections:N.fetchConnections,removeConnection:N.removeConnection,pingConnection:N.pingConnection},e)}})(T)),e.exports=t.default}}]);