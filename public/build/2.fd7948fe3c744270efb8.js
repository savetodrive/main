(this.webpackJsonp=this.webpackJsonp||[]).push([[2],{1906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=_(n(15)),o=_(n(4)),l=_(n(7)),r=_(n(3)),u=_(n(5)),i=_(n(0)),s=_(n(28)),d=n(67),c=n(113),f=n(53),p=n(97),h=_(n(108)),m=n(330),g=n(148),w=_(n(413)),b=_(n(181)),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(438)),y=_(n(846));function _(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){(0,o.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return(0,h.default)(n),n.state={loading:!1},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"login",value:function(e){var t=this,n=e.email,a=e.password;(0,m.postLogin)({username:n,password:a}).then(function(e){return 200!==e.status?t.props.actions.loginFailed(e.data):((0,b.default)("You have been logged in."),setTimeout(function(){window.location.href="/app"},1e3),t.props.actions.loginSuccess({user:{email:n,password:a},token:e.data.token}))},function(e){return t.props.actions.loginFailed(e.response.data.message)}).finally(function(){t.setState({loading:!1})})}},{key:"handleSubmit",value:function(e){var t=this;return this.setState({loading:!0}),(0,m.postNewPassword)({hash:(0,g.getQueryString)("token")},{password:e.password}).then(function(){(0,b.default)("You have been logged in."),window.location.href="/app"}).catch(function(e){return(0,b.default)(e.response.data.message,"error")}).finally(function(){t.setState({loading:!1})})}},{key:"render",value:function(){return i.default.createElement(d.Grid,{centered:!0,padded:!0,className:"login-screen"},i.default.createElement(d.Grid.Column,{mobile:16,tablet:10,computer:6},i.default.createElement(d.Card,{fluid:!0,className:"card mt-4"},i.default.createElement(d.Card.Content,null,i.default.createElement(w.default,null)),i.default.createElement(d.Card.Content,null,i.default.createElement(y.default,{handleSubmit:this.handleSubmit,loading:this.state.loading})))))}}]),t}(i.default.Component);k.propTypes={actions:s.default.object.isRequired};t.default=(0,f.withRouter)((0,c.connect)(null,function(e){return{actions:(0,p.bindActionCreators)(v,e)}})(k)),e.exports=t.default}}]);