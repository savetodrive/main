(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{1880:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(r(0)),n=c(r(28)),l=r(53),o=r(67),u=r(278),s=c(r(281)),i=c(r(414)),d=c(r(739));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.errors,r=e.touched,n=e.loading;return a.default.createElement(u.Form,null,a.default.createElement(o.Form,{as:"div",loading:n},a.default.createElement(i.default,{errors:t,touched:r,name:"first_name",label:"First Name"}),a.default.createElement(i.default,{errors:t,touched:r,name:"last_name",label:"Last Name"}),a.default.createElement(i.default,{errors:t,touched:r,name:"email",label:"Email"}),a.default.createElement(i.default,{errors:t,touched:r,name:"password",type:"password",label:"Password"})," ",a.default.createElement(i.default,{errors:t,touched:r,name:"coupon",label:"Coupon"}),a.default.createElement(o.Form.Field,null,"By clicking Register, you agree to our ",a.default.createElement("a",{rel:"noopener noreferrer",href:"https://web.savetodrive.net/terms",target:"_blank"},"Terms"),"  and that you have read our"," ",a.default.createElement("a",{href:"https://web.savetodrive.net/privacy",rel:"noopener noreferrer",target:"_blank"},"Policy"),", including our cookie usage."),a.default.createElement(o.Form.Field,{style:{marginLeft:"25%"}},a.default.createElement(d.default,null)),a.default.createElement(o.Button,{color:"green",type:"submit",value:"Register",className:"mr-2"},"Register"),a.default.createElement("span",{className:"small text-muted"},"Already have account? ",a.default.createElement(l.Link,{to:"/login"},"Log In"))))},m=(0,u.withFormik)({mapPropsToValues:function(e){var t=e.first_name,r=void 0===t?"":t,a=e.last_name,n=void 0===a?"":a,l=e.email,o=void 0===l?"":l,u=e.password;return{first_name:r,last_name:n,email:o,password:void 0===u?"":u,handleSubmit:e.handleSubmit}},validationSchema:s.default.object().shape({email:s.default.string().email().required(),first_name:s.default.string().required(),last_name:s.default.string().required(),password:s.default.string().min(8).required()}),handleSubmit:function(e,t){t.props.handleSubmit(e,t)}})(f);f.propTypes={touched:n.default.object.isRequired,errors:n.default.object.isRequired,loading:n.default.bool.isRequired},t.default=m,e.exports=t.default},1881:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerSuccess=function(e){return{type:a.CREATE_USER_SUCCESS,user:e}},t.registerError=function(e){return{type:a.CREATE_USER_FAILED,errors:e}};var a=r(77)},1909:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=S(r(165)),n=S(r(15)),l=S(r(4)),o=S(r(7)),u=S(r(3)),s=S(r(5)),i=S(r(0)),d=S(r(28)),c=r(97),f=r(53),m=r(67),p=S(r(108)),g=r(113),h=S(r(847)),E=w(r(1881)),b=w(r(438)),v=S(r(181)),_=S(r(413)),y=S(r(1880)),C=r(330),R=r(148);function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){(0,l.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return(0,p.default)(r),r.state={loading:!1,toLogin:!1},r}return(0,s.default)(t,e),(0,o.default)(t,[{key:"handleSubmit",value:function(e){var t=this;if(!(0,R.captchaChecker)())return!1;var r=!1;return this.setState({loading:!0}),e.captcha=window.uploadCaptchaCode,(0,C.postRegister)(e).then(function(n){200===n.status?(r=!0,(0,v.default)("You have been register successfully, Please Login."),t.props.actions.registerError([]),t.props.actions.registerSuccess((0,a.default)({},e,n.data)),t.props.loginActions.userCanLogIn({email:e.email,password:e.password})):t.props.actions.registerError(n)},function(e){t.props.actions.registerError(e.response.data.message)}).finally(function(){t.setState({toLogin:r,loading:!1})})}},{key:"renderError",value:function(e){return e.length?i.default.createElement(h.default,{messages:e}):null}},{key:"render",value:function(){var e=this.props.register.errors;return i.default.createElement(m.Grid,{centered:!0,padded:!0,className:"login-screen"},i.default.createElement(m.Grid.Column,{mobile:16,tablet:10,computer:6},i.default.createElement(m.Card,{fluid:!0,className:"card mt-4"},i.default.createElement(m.Card.Content,null,i.default.createElement(_.default,null)),this.state.toLogin&&i.default.createElement(f.Redirect,{to:"/login"})," ",i.default.createElement(m.Card.Content,null,i.default.createElement(m.Header,{as:"h3",className:"mt-1"},"Register here"),this.renderError(e),i.default.createElement(y.default,{handleSubmit:this.handleSubmit,loading:this.state.loading})))))}}]),t}(i.default.Component);k.propTypes={loginActions:d.default.object.isRequired,actions:d.default.object.isRequired,register:d.default.object.isRequired},k.contextTypes={router:d.default.object.isRequired};t.default=(0,f.withRouter)((0,g.connect)(function(e){return{register:e.register}},function(e){return{actions:(0,c.bindActionCreators)(E,e),loginActions:(0,c.bindActionCreators)(b,e)}})(k)),e.exports=t.default}}]);